# .github/branch-protection.yml
# Declarative branch protection rules for GitHub

version: 1
rules:
  - name: "main branch protection"
    target: "branch"
    pattern: "main"
    required_status_checks:
      strict: true   # require branches to be up-to-date before merging
      contexts:
        - "BhinnekaBot (TON Premium)"   # nama workflow dari GitHub Actions
    required_pull_request_reviews:
      dismiss_stale_reviews: true
      require_code_owner_review: true
      required_approving_review_count: 1
    restrictions: null
    allow_force_pushes: false
    allow_deletions: false
    required_linear_history: true
    required_signatures: false
    enforce_admins: true
    allow_auto_merge: true
    required_conversation_resolution: true
    required_commit_signing: false
